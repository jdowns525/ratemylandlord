<div class="container">
  <div class="card">
    <div class="card-header">
    <div class="row">
    <div class="col-md-8 offset-md-2">
      <h1>Landlord #<%= @the_landlord.id %> details</h1>
<div class="card">
    <div class="card-header">
      <div class="d-flex justify-content-between align-items-center">
        <a href="/landlords" class="btn btn-secondary">Go back</a>
        <a href="/delete_landlord/<%= @the_landlord.id %>" class="btn btn-danger">Delete landlord</a>
      </div>

      <dl class="mt-4">
        <dt class="font-weight-bold">Name</dt>
        <dd><%= @the_landlord.name %></dd>

        <dt class="font-weight-bold">Neighborhood</dt>
        <dd><%= @the_landlord.neighborhood %></dd>

        <dt class="font-weight-bold">Address</dt>
        <dd><%= @the_landlord.address %></dd>

        <dt class="font-weight-bold">State</dt>
        <dd><%= @the_landlord.state %></dd>

        <dt class="font-weight-bold">Postal code</dt>
        <dd><%= @the_landlord.postal_code %></dd>

        <dt class="font-weight-bold">Latitude</dt>
        <dd><%= @the_landlord.latitude %></dd>

        <dt class="font-weight-bold">Longitude</dt>
        <dd><%= @the_landlord.longitude %></dd>

        <dt class="font-weight-bold">Stars</dt>
        <dd><%= @the_landlord.stars %></dd>

        <dt class="font-weight-bold">Review count</dt>
        <dd><%= @the_landlord.review_count %></dd>

        <dt class="font-weight-bold">Created at</dt>
        <dd><%= time_ago_in_words(@the_landlord.created_at) %> ago</dd>

        <dt class="font-weight-bold">Updated at</dt>
        <dd><%= time_ago_in_words(@the_landlord.updated_at) %> ago</dd>
      </dl>
    </div>
    </div>
    </div>
  </div>
</div>


<hr>


<div class="card">
  <div class="card-header">
    <h2>Landlord's Reviews</h2>
  </div>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Reviewer</th>
            <th>Caption</th>
            <th>Stars</th>
            <th>Created?</th>
          </tr>
        </thead>
        <tbody>
          <% @reviews.each do |review| %>
            <tr>
              <td><%= review.user.name %></td>
              <td><%= review.text %></td>
              <td><%= review.stars %></td>
              <td><%= time_ago_in_words(review.updated_at) %> ago</td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<hr>

<% if @current_user == nil %>

<% else %>
<div class="container">
  <div class="card">
    <div class="card-header">
      <h2>Edit landlord</h2>
    </div>
    <div class="card-body">
      <form action="/modify_landlord/<%= @the_landlord.id %>" method="post">
        <div class="mb-3">
          <label for="name_box" class="form-label">Name</label>
          <input type="text" id="name_box" name="query_name" class="form-control" value="<%= @the_landlord.name %>">
        </div>
        <div class="mb-3">
          <label for="neighborhood_box" class="form-label">Neighborhood</label>
          <input type="text" id="neighborhood_box" name="query_neighborhood" class="form-control" value="<%= @the_landlord.neighborhood %>">
        </div>
        <div class="mb-3">
          <label for="address_box" class="form-label">Address</label>
          <input type="text" id="address_box" name="query_address" class="form-control" value="<%= @the_landlord.address %>">
        </div>
        <div class="row mb-3">
          <div class="col">
            <label for="state_box" class="form-label">State</label>
            <input type="text" id="state_box" name="query_state" class="form-control" value="<%= @the_landlord.state %>">
          </div>
          <div class="col">
            <label for="postal_code_box" class="form-label">Postal code</label>
            <input type="text" id="postal_code_box" name="query_postal_code" class="form-control" value="<%= @the_landlord.postal_code %>">
          </div>
        </div>
        <div class="row mb-3">
          <div class="col">
            <label for="latitude_box" class="form-label">Latitude</label>
            <input type="text" id="latitude_box" name="query_latitude" class="form-control" value="<%= @the_landlord.latitude %>">
          </div>
          <div class="col">
            <label for="longitude_box" class="form-label">Longitude</label>
            <input type="text" id="longitude_box" name="query_longitude" class="form-control" value="<%= @the_landlord.longitude %>">
          </div>
        </div>
        <div class="mb-3">
          <label for="stars_box" class="form-label">Stars</label>
          <input type="text" id="stars_box" name="query_stars" class="form-control" value="<%= @the_landlord.stars %>">
        </div>
        <div class="row mb-3">
          <div class="col">
            <label for="review_count_box" class="form-label">Review count</label>
            <input type="text" id="review_count_box" name="query_review_count" class="form-control" value="<%= @the_landlord.review_count %>">
          </div>
          <div class="col">
            <label for="reviews_count_box" class="form-label">Reviews count</label>
            <input type="text" id="reviews_count_box" name="query_reviews_count" class="form-control" value="<%= @the_landlord.reviews_count %>">
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Update landlord</button>
      </form>
    </div>
  </div>
</div>
<%end%>
<hr>
